name: PR technical debts reference

on:
  issue_comment:
    types:
      - created

jobs:
  pr_commented:
    name: PR comment
    if: ${{ github.event.issue.pull_request }}
    runs-on: ubuntu-latest
    steps:
      - uses: khan/pull-request-comment-trigger@master
        id: has-tech-debt-tag
        with:
          trigger: '#tech-debt:'
      - uses: actions/github-script@v5
        env:
          COMMENT_BODY: ${{ github.event.comment.body }}
        with:
          script: |
            const { COMMENT_BODY } = process.env;
            console.log(COMMENT_BODY);
        if: steps.has-tech-debt-tag.outputs.triggered == 'true'
